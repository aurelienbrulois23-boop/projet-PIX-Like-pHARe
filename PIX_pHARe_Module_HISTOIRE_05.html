<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PIX-pHARe | Module HISTOIRE 05 - Comprendre pour Pr√©venir [CERTIFICATION]</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&family=Share+Tech+Mono&display=swap');
        
        :root {
            --history-bronze: #cd7f32;
            --history-amber: #d4a574;
            --history-sepia: #b08968;
            --history-parchment: #e8d5b5;
            --history-ink: #2c1810;
            --void-dark: #0a0a0a;
            --deep-dark: #050505;
            --panel-bg: rgba(44, 24, 16, 0.95);
            --text-primary: #f5ede4;
            --text-secondary: #a89984;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--void-dark);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .history-bg {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: 
                radial-gradient(ellipse at 50% 20%, rgba(205, 127, 50, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 30% 70%, rgba(176, 137, 104, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(212, 165, 116, 0.08) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
            animation: historyGlow 8s ease-in-out infinite;
        }
        
        @keyframes historyGlow {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 0.9; }
        }
        
        .stars-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image: 
                radial-gradient(1px 1px at 20% 30%, rgba(205, 127, 50, 0.6), transparent),
                radial-gradient(1px 1px at 60% 70%, rgba(212, 165, 116, 0.5), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(176, 137, 104, 0.4), transparent);
            background-size: 200px 200px;
            animation: starsFloat 6s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }
        
        @keyframes starsFloat {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 0.8; }
        }
        
        .app-container {
            position: relative;
            z-index: 1;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header { text-align: center; padding: 40px 20px; }
        
        .pillar-icon {
            font-size: 3.5rem;
            margin-bottom: 15px;
            filter: drop-shadow(0 0 20px rgba(205, 127, 50, 0.7));
            animation: bookPulse 3s ease-in-out infinite;
        }
        
        @keyframes bookPulse {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 20px rgba(205, 127, 50, 0.7)); }
            50% { transform: scale(1.08); filter: drop-shadow(0 0 30px rgba(205, 127, 50, 0.9)); }
        }
        
        .glitch-title {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(1.8rem, 5vw, 2.8rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--history-bronze), var(--history-amber), var(--history-sepia));
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 4px;
            animation: gradientShift 4s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .subtitle {
            font-family: 'Share Tech Mono', monospace;
            font-size: 1.1rem;
            color: var(--history-amber);
            margin-top: 10px;
            text-transform: uppercase;
            letter-spacing: 3px;
        }
        
        .module-badge {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 30px;
            background: linear-gradient(135deg, rgba(205, 127, 50, 0.3), rgba(212, 165, 116, 0.3));
            border: 2px solid var(--history-bronze);
            border-radius: 0;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.9rem;
            color: var(--history-bronze);
            clip-path: polygon(10px 0, 100% 0, calc(100% - 10px) 100%, 0 100%);
        }
        
        .progress-bar {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .progress-node {
            width: 55px;
            height: 55px;
            border: 3px solid var(--text-secondary);
            background: var(--deep-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--text-secondary);
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
            transition: all 0.4s ease;
        }
        
        .progress-node.active {
            border-color: var(--history-bronze);
            color: var(--history-bronze);
            box-shadow: 0 0 25px rgba(205, 127, 50, 0.6);
            animation: nodePulse 2s infinite;
        }
        
        .progress-node.completed {
            border-color: var(--history-amber);
            background: rgba(212, 165, 116, 0.2);
            color: var(--history-amber);
        }
        
        @keyframes nodePulse {
            0%, 100% { box-shadow: 0 0 15px rgba(205, 127, 50, 0.6); }
            50% { box-shadow: 0 0 30px rgba(205, 127, 50, 0.9); }
        }
        
        .xp-display {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .xp-box {
            background: var(--panel-bg);
            border: 1px solid var(--history-bronze);
            padding: 12px 20px;
            text-align: center;
            clip-path: polygon(0 0, calc(100% - 12px) 0, 100% 12px, 100% 100%, 12px 100%, 0 calc(100% - 12px));
        }
        
        .xp-label {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .xp-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--history-bronze);
            margin-top: 5px;
        }
        
        .content-panel {
            background: var(--panel-bg);
            border: 1px solid var(--history-bronze);
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 0 30px rgba(205, 127, 50, 0.15);
        }
        
        .panel-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(205, 127, 50, 0.3);
        }
        
        .panel-icon {
            font-size: 2rem;
            filter: drop-shadow(0 0 10px rgba(205, 127, 50, 0.6));
        }
        
        .panel-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--history-bronze);
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .panel-body {
            color: var(--text-primary);
            line-height: 1.7;
        }
        
        .intro-screen p {
            margin-bottom: 15px;
            font-size: 1.05rem;
        }
        
        .name-input-group {
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .input-wrapper label {
            display: block;
            margin-bottom: 8px;
            color: var(--history-bronze);
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .input-wrapper input {
            width: 100%;
            padding: 12px 15px;
            background: var(--deep-dark);
            border: 1px solid var(--history-bronze);
            color: var(--text-primary);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            border-radius: 4px;
            transition: all 0.3s;
        }
        
        .input-wrapper input:focus {
            outline: none;
            border-color: var(--history-amber);
            box-shadow: 0 0 15px rgba(212, 165, 116, 0.3);
        }
        
        .action-btn {
            background: linear-gradient(135deg, var(--history-bronze), var(--history-sepia));
            color: var(--text-primary);
            border: none;
            padding: 15px 40px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(205, 127, 50, 0.3);
        }
        
        .action-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(205, 127, 50, 0.5);
        }
        
        .action-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }
        
        .flashcard-container {
            perspective: 1000px;
            margin: 30px 0;
        }
        
        .flashcard {
            width: 100%;
            min-height: 320px;
            position: relative;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            cursor: pointer;
        }
        
        .flashcard.flipped {
            transform: rotateY(180deg);
        }
        
        .flashcard-face {
            width: 100%;
            min-height: 320px;
            position: absolute;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 35px;
            background: linear-gradient(135deg, rgba(205, 127, 50, 0.1), rgba(212, 165, 116, 0.1));
            border: 2px solid var(--history-bronze);
            border-radius: 12px;
            box-shadow: 0 0 30px rgba(205, 127, 50, 0.2);
        }
        
        .flashcard-front {
            background: linear-gradient(135deg, rgba(205, 127, 50, 0.15), rgba(176, 137, 104, 0.15));
        }
        
        .flashcard-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, rgba(212, 165, 116, 0.15), rgba(232, 213, 181, 0.15));
        }
        
        .flashcard-question {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
            color: var(--history-bronze);
            margin-bottom: 15px;
        }
        
        .flashcard-hint {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.85rem;
            color: var(--history-amber);
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .flashcard-answer {
            font-size: 1.1rem;
            line-height: 1.8;
            text-align: center;
            color: var(--text-primary);
        }
        
        .flashcard-answer strong {
            color: var(--history-amber);
        }
        
        .flashcard-nav {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-top: 25px;
        }
        
        .nav-btn {
            flex: 1;
            padding: 12px 25px;
            background: transparent;
            border: 2px solid var(--history-bronze);
            color: var(--history-bronze);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s;
        }
        
        .nav-btn:hover:not(:disabled) {
            background: var(--history-bronze);
            color: var(--void-dark);
            box-shadow: 0 0 20px rgba(205, 127, 50, 0.5);
        }
        
        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        .quiz-question {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--history-bronze);
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .quiz-option {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            background: rgba(205, 127, 50, 0.05);
            border: 2px solid rgba(205, 127, 50, 0.3);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .quiz-option:hover {
            background: rgba(205, 127, 50, 0.15);
            border-color: var(--history-bronze);
            transform: translateX(5px);
        }
        
        .quiz-option.selected {
            background: rgba(205, 127, 50, 0.2);
            border-color: var(--history-bronze);
            box-shadow: 0 0 20px rgba(205, 127, 50, 0.3);
        }
        
        .quiz-option.correct {
            background: rgba(212, 165, 116, 0.2);
            border-color: var(--history-amber);
            box-shadow: 0 0 20px rgba(212, 165, 116, 0.4);
        }
        
        .quiz-option.incorrect {
            background: rgba(176, 137, 104, 0.2);
            border-color: var(--history-sepia);
            box-shadow: 0 0 20px rgba(176, 137, 104, 0.4);
        }
        
        .option-marker {
            width: 35px;
            height: 35px;
            background: var(--history-bronze);
            color: var(--void-dark);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 1rem;
            flex-shrink: 0;
        }
        
        .option-text {
            flex: 1;
            font-size: 1rem;
            line-height: 1.5;
        }
        
        .feedback-box {
            background: linear-gradient(135deg, rgba(212, 165, 116, 0.15), rgba(232, 213, 181, 0.15));
            border: 2px solid var(--history-amber);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 0 25px rgba(212, 165, 116, 0.3);
        }
        
        .feedback-box.incorrect-feedback {
            background: linear-gradient(135deg, rgba(176, 137, 104, 0.15), rgba(205, 127, 50, 0.15));
            border-color: var(--history-sepia);
            box-shadow: 0 0 25px rgba(176, 137, 104, 0.3);
        }
        
        .feedback-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--history-amber);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .incorrect-feedback .feedback-title {
            color: var(--history-sepia);
        }
        
        .scenario-context {
            background: rgba(205, 127, 50, 0.1);
            border-left: 4px solid var(--history-bronze);
            padding: 15px 20px;
            margin-bottom: 20px;
            font-style: italic;
            color: var(--text-secondary);
        }
        
        .scenario-intro {
            font-size: 1.05rem;
            line-height: 1.7;
            margin-bottom: 25px;
        }
        
        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .choice-btn {
            padding: 18px 25px;
            background: linear-gradient(135deg, rgba(205, 127, 50, 0.1), rgba(212, 165, 116, 0.1));
            border: 2px solid rgba(205, 127, 50, 0.4);
            color: var(--text-primary);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            text-align: left;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
            line-height: 1.5;
        }
        
        .choice-btn:hover {
            background: linear-gradient(135deg, rgba(205, 127, 50, 0.2), rgba(212, 165, 116, 0.2));
            border-color: var(--history-bronze);
            transform: translateX(8px);
            box-shadow: 0 0 25px rgba(205, 127, 50, 0.3);
        }
        
        .choice-result {
            background: rgba(176, 137, 104, 0.1);
            border: 2px solid var(--history-sepia);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .choice-result p {
            line-height: 1.7;
            margin-bottom: 15px;
        }
        
        .impact-score {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 20px;
        }
        
        .impact-item {
            padding: 8px 16px;
            border-radius: 6px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .impact-item.positive {
            background: rgba(212, 165, 116, 0.2);
            border: 1px solid var(--history-amber);
            color: var(--history-amber);
        }
        
        .impact-item.negative {
            background: rgba(176, 137, 104, 0.2);
            border: 1px solid var(--history-sepia);
            color: var(--history-sepia);
        }
        
        .completion-screen {
            text-align: center;
            padding: 40px 20px;
        }
        
        .completion-icon {
            font-size: 5rem;
            margin-bottom: 25px;
            filter: drop-shadow(0 0 30px rgba(205, 127, 50, 0.8));
            animation: completionFloat 3s ease-in-out infinite;
        }
        
        @keyframes completionFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .completion-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--history-bronze), var(--history-amber));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 3px;
        }
        
        .completion-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
        }
        
        .mastery-badge {
            display: inline-block;
            padding: 15px 40px;
            margin: 25px 0;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 3px;
            border-radius: 8px;
            box-shadow: 0 0 40px rgba(205, 127, 50, 0.5);
        }
        
        .mastery-expert {
            background: linear-gradient(135deg, var(--history-bronze), var(--history-amber));
            color: var(--text-primary);
            border: 3px solid var(--history-sepia);
        }
        
        .mastery-confirmed {
            background: linear-gradient(135deg, var(--history-sepia), var(--history-bronze));
            color: var(--text-primary);
            border: 3px solid var(--history-amber);
        }
        
        .mastery-training {
            background: linear-gradient(135deg, rgba(205, 127, 50, 0.3), rgba(212, 165, 116, 0.3));
            color: var(--text-primary);
            border: 3px solid var(--history-bronze);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .stat-card {
            background: var(--panel-bg);
            border: 2px solid var(--history-bronze);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        
        .stat-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--history-bronze);
            margin-bottom: 8px;
        }
        
        .stat-label {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .save-code-box {
            background: var(--panel-bg);
            border: 2px solid var(--history-amber);
            border-radius: 8px;
            padding: 25px;
            margin: 30px 0;
        }
        
        .save-code-label {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.9rem;
            color: var(--history-amber);
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .save-code {
            background: var(--deep-dark);
            border: 1px solid var(--history-bronze);
            padding: 15px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 1.1rem;
            color: var(--history-bronze);
            word-break: break-all;
            border-radius: 6px;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .copy-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, var(--history-amber), var(--history-bronze));
            border: none;
            color: var(--text-primary);
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s;
        }
        
        .copy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(212, 165, 116, 0.5);
        }
    </style>
</head>
<body>
    <div class="history-bg"></div>
    <div class="stars-overlay"></div>
    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script>
        const { useState } = React;
        const e = React.createElement;

        const MODULE_ID = "HISTOIRE_05";
        const MODULE_TITLE = "Comprendre pour Pr√©venir";
        const MODULE_VERSION = "2.0";

        const flashcardsData = [
            {
                question: "Quelle est la le√ßon principale du silence historique (pr√©-1970) ?",
                hint: "[ Clique pour r√©v√©ler ]",
                answer: "<strong>Ce qui n'est pas nomm√© n'existe pas institutionnellement</strong>. Sans mot, pas de visibilit√©. Sans visibilit√©, pas de reconnaissance. Sans reconnaissance, pas de protection. Nommer un probl√®me est le premier acte de r√©sistance."
            },
            {
                question: "Pourquoi les 3 crit√®res d'Olweus restent-ils essentiels aujourd'hui ?",
                hint: "[ Clique pour r√©v√©ler ]",
                answer: "Ils permettent de <strong>distinguer harc√®lement (asym√©trique, r√©p√©t√©, intentionnel) et conflit (bilat√©ral, ponctuel)</strong>. Cette distinction oriente l'intervention : m√©diation pour conflit, protocole protecteur pour harc√®lement. Confondre les deux dilue les ressources et banalise le vrai harc√®lement."
            },
            {
                question: "Quelle tension existe entre loi et pr√©vention ?",
                hint: "[ Clique pour r√©v√©ler ]",
                answer: "La loi cr√©e un <strong>cadre r√©actif</strong> (punir apr√®s). La pr√©vention cr√©e une <strong>culture proactive</strong> (emp√™cher avant). Les deux sont n√©cessaires, mais seule la pr√©vention transforme les normes collectives. Punir 1 harceleur ne change pas la culture qui l'a produit."
            },
            {
                question: "Pourquoi pHARe mise-t-il sur les pairs (ambassadeurs) ?",
                hint: "[ Clique pour r√©v√©ler ]",
                answer: "Parce qu'Heinemann (1969) a montr√© que le harc√®lement est un <strong>ph√©nom√®ne de groupe</strong>. Une intervention adulte seule ne change pas la norme collective des √©l√®ves. Seuls des pairs form√©s, portant une norme anti-harc√®lement, transforment la culture de classe."
            }
        ];

        const quizData = [
            {
                question: "Synth√®se historique : En 1950, un √©l√®ve harcel√© n'avait aucun recours. Pourquoi ?",
                options: [
                    "Parce que les gens √©taient m√©chants",
                    "Parce que le ph√©nom√®ne n'√©tait ni nomm√© (pas de concept), ni mesur√© (pas de science), ni encadr√© (pas de loi), ni prot√©g√© (pas de dispositif)",
                    "Parce qu'il n'y avait pas d'√©cole",
                    "Parce que les victimes ne parlaient jamais"
                ],
                correct: 1,
                feedback: "Parfait. Tu synth√©tises tout le parcours : silence linguistique (M01) ‚Üí r√©volution scientifique (M02) ‚Üí reconnaissance juridique (M03) ‚Üí dispositifs modernes (M04). Chaque √©tape construit sur la pr√©c√©dente. Aujourd'hui, un √©l√®ve a pHARe, le 3018, la loi. Ce n'√©tait pas 'normal avant', c'√©tait invisible."
            },
            {
                question: "Application des 3 crit√®res : Un groupe se moque d'un √©l√®ve 1 fois, puis arr√™te. Est-ce du harc√®lement ?",
                options: [
                    "Oui, parce qu'il y a eu moquerie",
                    "Non, il manque la R√âP√âTITION. C'est une violence ponctuelle (r√©pr√©hensible), mais pas du harc√®lement syst√©mique",
                    "Oui, parce qu'il y a d√©s√©quilibre (groupe vs individu)",
                    "√áa d√©pend de l'humeur de l'adulte"
                ],
                correct: 1,
                feedback: "Exact. Olweus (1970) exige les 3 crit√®res. Intention (oui, se moquer), D√©s√©quilibre (oui, groupe vs 1), mais R√âP√âTITION (non, 1 fois). Donc : violence √† sanctionner, mais pas harc√®lement. Cette distinction √©vite la dilution du concept et permet des r√©ponses adapt√©es."
            },
            {
                question: "Tension loi/pr√©vention : Pourquoi punir tous les harceleurs ne suffit-il pas √† √©radiquer le harc√®lement ?",
                options: [
                    "Parce qu'il en na√Ætra toujours d'autres tant que la culture collective tol√®re la domination. Seule l'√©ducation massive change les normes",
                    "Parce que les tribunaux sont d√©bord√©s",
                    "Parce que les harceleurs sont malades mentaux",
                    "Parce que la loi n'existe pas vraiment"
                ],
                correct: 0,
                feedback: "Parfaitement r√©sum√©. La loi punit l'individu (n√©cessaire pour prot√©ger la victime). Mais le harc√®lement na√Æt d'une CULTURE (t√©moins passifs, hi√©rarchies accept√©es, empathie absente). Sans transformation collective (pHARe, ambassadeurs, climat scolaire), on punira √† l'infini sans pr√©venir."
            },
            {
                question: "Ambassadeurs pHARe : Pourquoi 3 ambassadeurs dans une classe de 25 ne suffisent pas ?",
                options: [
                    "Parce qu'ils sont trop jeunes",
                    "Parce que si les 22 autres √©l√®ves n'ont pas re√ßu de formation √† l'empathie, la norme collective reste permissive. Les ambassadeurs se battent seuls",
                    "Parce qu'il en faudrait 10",
                    "Parce que les ambassadeurs sont volontaires donc faibles"
                ],
                correct: 1,
                feedback: "Exactement. Heinemann (1969) : le mobbing est COLLECTIF. 3 ambassadeurs + 22 indiff√©rents = √©chec. La solution : former TOUS les √©l√®ves (empathie, 3 crit√®res, r√¥le des t√©moins). Quand la majorit√© porte la norme anti-harc√®lement, les ambassadeurs deviennent amplificateurs, pas combattants isol√©s."
            }
        ];

        const scenarioData = [
            {
                title: "La Mutation Culturelle",
                context: "Ton coll√®ge applique pHARe depuis 1 an. Protocole en place, ambassadeurs form√©s, 3018 affich√©. Pourtant, le harc√®lement continue dans certaines classes.",
                intro: "Gr√¢ce √† tout ton parcours historique (M01 √† M04), diagnostique : que manque-t-il pour que la th√©orie (pHARe) devienne pratique (transformation r√©elle) ?",
                choices: [
                    {
                        text: "Il faut des punitions plus s√©v√®res",
                        result: "Non. La loi existe d√©j√† (M03). Punir plus fort ne change pas la CULTURE. Le harc√®lement persiste parce que la norme collective des √©l√®ves (t√©moins passifs, hi√©rarchies accept√©es) n'a pas chang√©. C'est un probl√®me culturel, pas p√©nal.",
                        impact: { comprehension: -25, strategie: -20 }
                    },
                    {
                        text: "Il manque une FORMATION MASSIVE de TOUS les √©l√®ves (pas juste les ambassadeurs) + implication de TOUS les profs (pas juste l'√©quipe pHARe) pour transformer la norme collective",
                        result: "Parfait. Tu as compris la le√ßon de 50 ans d'histoire : nommer (M01), mesurer (M02), l√©gif√©rer (M03), cr√©er des outils (M04)... et MAINTENANT, diffuser √† 100% pour changer la culture. pHARe est un cadre excellent, mais il faut un engagement TOTAL de l'√©tablissement (formation continue, climat scolaire, empathie collective) pour que la th√©orie devienne pratique.",
                        impact: { comprehension: +40, strategie: +40 }
                    },
                    {
                        text: "Il faut abandonner pHARe, √ßa ne marche pas",
                        result: "Erreur. pHARe est bas√© sur 50 ans de recherche valid√©e. Le probl√®me n'est pas l'outil, c'est son APPLICATION partielle. Abandonner reviendrait √† jeter le b√©b√© avec l'eau du bain. La solution : appliquer COMPL√àTEMENT.",
                        impact: { comprehension: -30, strategie: -25 }
                    },
                    {
                        text: "Il faut installer des cam√©ras partout",
                        result: "Approche s√©curitaire qui ignore tout ce que tu as appris. Le harc√®lement n'est pas qu'une question de surveillance (on ne peut pas filmer la cour de r√©cr√© 24h/24), c'est une question de CULTURE. Heinemann (1969) : dynamique de groupe. Seule l'√©ducation change √ßa.",
                        impact: { comprehension: -35, strategie: -30 }
                    }
                ]
            },
            {
                title: "L'H√©ritage des Pionniers",
                context: "Tu es ambassadeur pHARe. Un adulte te dit : 'Le harc√®lement a toujours exist√©, on ne peut rien y faire.'",
                intro: "Fort de ta connaissance historique, que r√©ponds-tu pour montrer que cette r√©signation ignore 50 ans de lutte collective ?",
                choices: [
                    {
                        text: "Tu es d'accord : c'est vrai, √ßa a toujours exist√©",
                        result: "Trahison de l'histoire. Oui, la violence a toujours exist√©, mais elle √©tait INVISIBLE (pr√©-1970) car non nomm√©e. Heinemann, Olweus, les lois, pHARe : tout √ßa prouve qu'on PEUT agir. Dire 'on ne peut rien faire', c'est nier 50 ans de combat collectif.",
                        impact: { fierte: -40, transmission: -35 }
                    },
                    {
                        text: "Tu expliques : 'Oui, la violence a toujours exist√©. Mais avant 1970, elle √©tait invisible. Heinemann l'a nomm√©e (mobbing), Olweus l'a mesur√©e (3 crit√®res), les lois l'ont encadr√©e, pHARe la combat. On peut agir, et l'histoire le prouve.'",
                        result: "Magnifique. Tu transmets l'h√©ritage des pionniers. Tu montres que la r√©signation ('√ßa a toujours √©t√© comme √ßa') ignore la TRANSFORMATION historique. Chaque g√©n√©ration construit sur la pr√©c√©dente. Toi, ambassadeur 2025, tu es l'h√©ritier d'Heinemann 1969. Porte cette fiert√©.",
                        impact: { fierte: +45, transmission: +45 }
                    },
                    {
                        text: "Tu changes de sujet pour √©viter le d√©bat",
                        result: "Passivit√©. Tu laisses la r√©signation se propager. Pourtant, tu as les connaissances historiques pour la combattre. Le silence des t√©moins (toi, ici) permet aux mythes ('on ne peut rien faire') de perdurer.",
                        impact: { fierte: -15, transmission: -20 }
                    }
                ]
            }
        ];

        function encodeSaveCode(data) {
            return btoa(JSON.stringify(data));
        }

        function getMasteryLevel(score) {
            if (score >= 450) return { level: "Historien Expert", class: "mastery-expert" };
            if (score >= 280) return { level: "Historien Confirm√©", class: "mastery-confirmed" };
            return { level: "En Formation", class: "mastery-training" };
        }

        function App() {
            const [gameState, setGameState] = useState("intro");
            const [playerData, setPlayerData] = useState({
                name: "",
                class: "",
                level: 1,
                score: 0,
                xp: 0,
                quizScore: 0,
                scenarioScore: 0,
                flashcardsViewed: 0,
                finished: false
            });

            const [currentFlashcard, setCurrentFlashcard] = useState(0);
            const [flashcardFlipped, setFlashcardFlipped] = useState(false);

            const [currentQuiz, setCurrentQuiz] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showQuizFeedback, setShowQuizFeedback] = useState(false);

            const [currentScenario, setCurrentScenario] = useState(0);
            const [scenarioChoice, setScenarioChoice] = useState(null);
            const [showScenarioResult, setShowScenarioResult] = useState(false);

            function startGame() {
                if (playerData.name.trim() && playerData.class.trim()) {
                    setGameState("flashcards");
                }
            }

            function nextFlashcard() {
                if (currentFlashcard < flashcardsData.length - 1) {
                    setCurrentFlashcard(prev => prev + 1);
                    setFlashcardFlipped(false);
                    setPlayerData(prev => ({
                        ...prev,
                        flashcardsViewed: Math.max(prev.flashcardsViewed, currentFlashcard + 2),
                        xp: prev.xp + 15
                    }));
                } else {
                    setGameState("quiz");
                    setPlayerData(prev => ({
                        ...prev,
                        level: 2,
                        flashcardsViewed: flashcardsData.length,
                        xp: prev.xp + 50
                    }));
                }
            }

            function prevFlashcard() {
                if (currentFlashcard > 0) {
                    setCurrentFlashcard(prev => prev - 1);
                    setFlashcardFlipped(false);
                }
            }

            function selectQuizAnswer(index) {
                if (showQuizFeedback) return;
                setSelectedAnswer(index);
            }

            function validateQuizAnswer() {
                setShowQuizFeedback(true);
                const isCorrect = selectedAnswer === quizData[currentQuiz].correct;
                if (isCorrect) {
                    setPlayerData(prev => ({
                        ...prev,
                        score: prev.score + 30,
                        quizScore: prev.quizScore + 30,
                        xp: prev.xp + 30
                    }));
                }
            }

            function nextQuizQuestion() {
                if (currentQuiz < quizData.length - 1) {
                    setCurrentQuiz(prev => prev + 1);
                    setSelectedAnswer(null);
                    setShowQuizFeedback(false);
                } else {
                    setGameState("scenarios");
                    setPlayerData(prev => ({
                        ...prev,
                        level: 3,
                        xp: prev.xp + 60
                    }));
                }
            }

            function makeScenarioChoice(index) {
                setScenarioChoice(index);
                setShowScenarioResult(true);

                const choice = scenarioData[currentScenario].choices[index];
                const values = Object.values(choice.impact);
                const totalChange = Math.max(0, values.reduce((a, b) => a + b, 0));

                setPlayerData(prev => ({
                    ...prev,
                    score: prev.score + totalChange,
                    scenarioScore: prev.scenarioScore + totalChange,
                    xp: prev.xp + 25
                }));
            }

            function nextScenario() {
                if (currentScenario < scenarioData.length - 1) {
                    setCurrentScenario(prev => prev + 1);
                    setScenarioChoice(null);
                    setShowScenarioResult(false);
                } else {
                    completeModule();
                }
            }

            function completeModule() {
                setPlayerData(prev => ({
                    ...prev,
                    finished: true,
                    xp: prev.xp + 100
                }));
                setGameState("complete");
            }

            function generateSaveCode() {
                const saveData = {
                    v: 1,
                    d: new Date().toISOString(),
                    m: MODULE_ID,
                    mv: MODULE_VERSION,
                    n: playerData.name,
                    c: playerData.class,
                    l: 3,
                    s: playerData.score,
                    x: playerData.xp,
                    q: playerData.quizScore,
                    sc: playerData.scenarioScore,
                    f: true
                };
                return encodeSaveCode(saveData);
            }

            function copyCode() {
                const code = generateSaveCode();
                navigator.clipboard.writeText(code).then(() => {
                    alert("Code copi√© dans le presse-papier !");
                });
            }

            function renderIntro() {
                return e("div", { className: "app-container" },
                    e("div", { className: "header" },
                        e("div", { className: "pillar-icon" }, "üìú"),
                        e("h1", { className: "glitch-title" }, "PIX-pHARe"),
                        e("div", { className: "subtitle" }, "Pilier Histoire Soci√©tale"),
                        e("div", { className: "module-badge" }, "MODULE 05 - CERTIFICATION")
                    ),
                    e("div", { className: "content-panel" },
                        e("div", { className: "panel-header" },
                            e("div", { className: "panel-icon" }, "üéì"),
                            e("div", { className: "panel-title" }, MODULE_TITLE)
                        ),
                        e("div", { className: "panel-body" },
                            e("div", { className: "intro-screen" },
                                e("p", null,
                                    "Tu as travers√© ", e("strong", { style: { color: "var(--history-amber)" } }, "50 ans d'histoire"), 
                                    " : du silence pr√©-1970 aux dispositifs modernes de 2025."
                                ),
                                e("p", null,
                                    "Ce module final teste ta capacit√© √† ", 
                                    e("strong", { style: { color: "var(--history-bronze)" } }, "synth√©tiser tout le parcours"), 
                                    " et √† ", e("strong", null, "appliquer les le√ßons de l'histoire"), " aux d√©fis actuels."
                                ),
                                e("p", null,
                                    "Comprendre le pass√©, c'est refuser de le reproduire. Pr√™t¬∑e pour la certification ?"
                                )
                            ),
                            e("div", { className: "name-input-group" },
                                e("div", { className: "input-wrapper" },
                                    e("label", null, "Ton Pseudo :"),
                                    e("input", {
                                        type: "text",
                                        value: playerData.name,
                                        onChange: (ev) => setPlayerData(prev => ({ ...prev, name: ev.target.value })),
                                        placeholder: "Entre ton pr√©nom ou pseudo"
                                    })
                                ),
                                e("div", { className: "input-wrapper" },
                                    e("label", null, "Ta Classe :"),
                                    e("input", {
                                        type: "text",
                                        value: playerData.class,
                                        onChange: (ev) => setPlayerData(prev => ({ ...prev, class: ev.target.value })),
                                        placeholder: "Ex: 4√®me B"
                                    })
                                ),
                                e("div", { style: { textAlign: "center", marginTop: "30px" } },
                                    e("button", {
                                        className: "action-btn",
                                        onClick: startGame,
                                        disabled: !playerData.name.trim() || !playerData.class.trim()
                                    }, "[ COMMENCER ]")
                                )
                            )
                        )
                    )
                );
            }

            function renderFlashcards() {
                const card = flashcardsData[currentFlashcard];

                return e("div", { className: "app-container" },
                    e("div", { className: "header" },
                        e("div", { className: "pillar-icon" }, "üìú"),
                        e("h1", { className: "glitch-title" }, MODULE_TITLE),
                        e("div", { className: "subtitle" }, "Niveau 1 : Synth√®se Historique")
                    ),
                    e("div", { className: "progress-bar" },
                        e("div", { className: "progress-node active" }, "1"),
                        e("div", { className: "progress-node" }, "2"),
                        e("div", { className: "progress-node" }, "3")
                    ),
                    e("div", { className: "xp-display" },
                        e("div", { className: "xp-box" },
                            e("div", { className: "xp-label" }, "XP"),
                            e("div", { className: "xp-value" }, playerData.xp)
                        ),
                        e("div", { className: "xp-box" },
                            e("div", { className: "xp-label" }, "Carte"),
                            e("div", { className: "xp-value" }, `${currentFlashcard + 1}/${flashcardsData.length}`)
                        )
                    ),
                    e("div", { className: "content-panel" },
                        e("div", { className: "panel-header" },
                            e("div", { className: "panel-icon" }, "üìö"),
                            e("div", { className: "panel-title" }, "Le√ßons Essentielles")
                        ),
                        e("div", { className: "panel-body" },
                            e("div", { className: "flashcard-container" },
                                e("div", {
                                    className: `flashcard ${flashcardFlipped ? "flipped" : ""}`,
                                    onClick: () => setFlashcardFlipped(!flashcardFlipped)
                                },
                                    e("div", { className: "flashcard-face flashcard-front" },
                                        e("div", { className: "flashcard-question" }, card.question),
                                        e("div", { className: "flashcard-hint" }, card.hint)
                                    ),
                                    e("div", { className: "flashcard-face flashcard-back" },
                                        e("div", {
                                            className: "flashcard-answer",
                                            dangerouslySetInnerHTML: { __html: card.answer }
                                        })
                                    )
                                )
                            ),
                            e("div", { className: "flashcard-nav" },
                                e("button", {
                                    className: "nav-btn",
                                    onClick: prevFlashcard,
                                    disabled: currentFlashcard === 0
                                }, "‚óÑ PR√âC"),
                                e("button", {
                                    className: "nav-btn",
                                    onClick: nextFlashcard
                                }, currentFlashcard < flashcardsData.length - 1 ? "SUIV ‚ñ∫" : "NIVEAU 2 ‚ñ∫")
                            )
                        )
                    )
                );
            }

            function renderQuiz() {
                const question = quizData[currentQuiz];

                return e("div", { className: "app-container" },
                    e("div", { className: "header" },
                        e("div", { className: "pillar-icon" }, "üìú"),
                        e("h1", { className: "glitch-title" }, MODULE_TITLE),
                        e("div", { className: "subtitle" }, "Niveau 2 : Application")
                    ),
                    e("div", { className: "progress-bar" },
                        e("div", { className: "progress-node completed" }, "‚úì"),
                        e("div", { className: "progress-node active" }, "2"),
                        e("div", { className: "progress-node" }, "3")
                    ),
                    e("div", { className: "xp-display" },
                        e("div", { className: "xp-box" },
                            e("div", { className: "xp-label" }, "XP"),
                            e("div", { className: "xp-value" }, playerData.xp)
                        ),
                        e("div", { className: "xp-box" },
                            e("div", { className: "xp-label" }, "Score Quiz"),
                            e("div", { className: "xp-value" }, playerData.quizScore)
                        ),
                        e("div", { className: "xp-box" },
                            e("div", { className: "xp-label" }, "Question"),
                            e("div", { className: "xp-value" }, `${currentQuiz + 1}/${quizData.length}`)
                        )
                    ),
                    e("div", { className: "content-panel" },
                        e("div", { className: "panel-header" },
                            e("div", { className: "panel-icon" }, "üîç"),
                            e("div", { className: "panel-title" }, "Test Final")
                        ),
                        e("div", { className: "panel-body" },
                            e("div", { className: "quiz-question" }, question.question),
                            e("div", { className: "quiz-options" },
                                question.options.map((opt, idx) => {
                                    let optClass = "quiz-option";
                                    if (showQuizFeedback) {
                                        if (idx === question.correct) optClass += " correct";
                                        else if (idx === selectedAnswer) optClass += " incorrect";
                                    } else if (idx === selectedAnswer) {
                                        optClass += " selected";
                                    }

                                    return e("div", {
                                        key: idx,
                                        className: optClass,
                                        onClick: () => selectQuizAnswer(idx)
                                    },
                                        e("div", { className: "option-marker" }, String.fromCharCode(65 + idx)),
                                        e("div", { className: "option-text" }, opt)
                                    );
                                })
                            ),
                            showQuizFeedback && e("div", {
                                className: `feedback-box ${selectedAnswer !== question.correct ? "incorrect-feedback" : ""}`
                            },
                                e("div", { className: "feedback-title" },
                                    selectedAnswer === question.correct ? "‚úì EXCELLENT" : "‚úó PAS TOUT √Ä FAIT"
                                ),
                                e("p", null, question.feedback)
                            ),
                            e("div", { style: { textAlign: "center", marginTop: "25px" } },
                                !showQuizFeedback ?
                                    e("button", {
                                        className: "action-btn",
                                        onClick: validateQuizAnswer,
                                        disabled: selectedAnswer === null
                                    }, "[ VALIDER ]") :
                                    e("button", {
                                        className: "action-btn",
                                        onClick: nextQuizQuestion
                                    }, currentQuiz < quizData.length - 1 ? "[ SUIVANT ]" : "[ NIVEAU 3 ]")
                            )
                        )
                    )
                );
            }

            function renderScenarios() {
                const scenario = scenarioData[currentScenario];

                return e("div", { className: "app-container" },
                    e("div", { className: "header" },
                        e("div", { className: "pillar-icon" }, "üìú"),
                        e("h1", { className: "glitch-title" }, MODULE_TITLE),
                        e("div", { className: "subtitle" }, "Niveau 3 : Cas Complexes")
                    ),
                    e("div", { className: "progress-bar" },
                        e("div", { className: "progress-node completed" }, "‚úì"),
                        e("div", { className: "progress-node completed" }, "‚úì"),
                        e("div", { className: "progress-node active" }, "3")
                    ),
                    e("div", { className: "xp-display" },
                        e("div", { className: "xp-box" },
                            e("div", { className: "xp-label" }, "XP Total"),
                            e("div", { className: "xp-value" }, playerData.xp)
                        ),
                        e("div", { className: "xp-box" },
                            e("div", { className: "xp-label" }, "Score"),
                            e("div", { className: "xp-value" }, playerData.score)
                        ),
                        e("div", { className: "xp-box" },
                            e("div", { className: "xp-label" }, "Sc√©nario"),
                            e("div", { className: "xp-value" }, `${currentScenario + 1}/${scenarioData.length}`)
                        )
                    ),
                    e("div", { className: "content-panel" },
                        e("div", { className: "panel-header" },
                            e("div", { className: "panel-icon" }, "‚öñÔ∏è"),
                            e("div", { className: "panel-title" }, scenario.title)
                        ),
                        e("div", { className: "panel-body" },
                            e("div", { className: "scenario-context" }, scenario.context),
                            e("div", { className: "scenario-intro" }, scenario.intro),
                            !showScenarioResult ?
                                e("div", { className: "choices" },
                                    scenario.choices.map((choice, idx) =>
                                        e("button", {
                                            key: idx,
                                            className: "choice-btn",
                                            onClick: () => makeScenarioChoice(idx)
                                        }, choice.text)
                                    )
                                ) :
                                e("div", { className: "choice-result" },
                                    e("p", { style: { marginBottom: "15px" } }, scenario.choices[scenarioChoice].result),
                                    e("div", { className: "impact-score" },
                                        Object.entries(scenario.choices[scenarioChoice].impact).map(([key, val]) =>
                                            e("div", {
                                                key: key,
                                                className: `impact-item ${val > 0 ? "positive" : "negative"}`
                                            }, `${key}: ${val > 0 ? "+" : ""}${val}`)
                                        )
                                    ),
                                    e("div", { style: { textAlign: "center", marginTop: "25px" } },
                                        e("button", {
                                            className: "action-btn",
                                            onClick: nextScenario
                                        }, currentScenario < scenarioData.length - 1 ? "[ SUIVANT ]" : "[ TERMINER ]")
                                    )
                                )
                        )
                    )
                );
            }

            function renderComplete() {
                const mastery = getMasteryLevel(playerData.score);
                const saveCode = generateSaveCode();

                return e("div", { className: "app-container" },
                    e("div", { className: "completion-screen" },
                        e("div", { className: "completion-icon" }, "üèÜ"),
                        e("h1", { className: "completion-title" }, "CERTIFICATION VALID√âE"),
                        e("p", { className: "completion-subtitle" },
                            `Bravo ${playerData.name} ! Tu ma√Ætrises l'histoire du combat anti-harc√®lement.`
                        ),
                        e("div", { className: `mastery-badge ${mastery.class}` }, mastery.level),
                        e("div", { className: "stats-grid" },
                            e("div", { className: "stat-card" },
                                e("div", { className: "stat-value" }, playerData.score),
                                e("div", { className: "stat-label" }, "Score Total")
                            ),
                            e("div", { className: "stat-card" },
                                e("div", { className: "stat-value" }, playerData.xp),
                                e("div", { className: "stat-label" }, "XP Gagn√©s")
                            ),
                            e("div", { className: "stat-card" },
                                e("div", { className: "stat-value" }, playerData.quizScore),
                                e("div", { className: "stat-label" }, "Score Quiz")
                            ),
                            e("div", { className: "stat-card" },
                                e("div", { className: "stat-value" }, playerData.scenarioScore),
                                e("div", { className: "stat-label" }, "Score Sc√©narios")
                            )
                        ),
                        e("div", { className: "save-code-box" },
                            e("div", { className: "save-code-label" }, "üìã Code de Validation (√† remettre au CPE) :"),
                            e("div", { className: "save-code" }, saveCode),
                            e("button", {
                                className: "copy-btn",
                                onClick: copyCode
                            }, "Copier le Code")
                        ),
                        e("div", { className: "content-panel", style: { marginTop: "30px", textAlign: "left" } },
                            e("div", { className: "panel-header" },
                                e("div", { className: "panel-icon" }, "‚ú®"),
                                e("div", { className: "panel-title" }, "L'H√©ritage Que Tu Portes")
                            ),
                            e("div", { className: "panel-body" },
                                e("p", null,
                                    "Tu es d√©sormais l'h√©ritier¬∑√®re de 50 ans de combat : Heinemann (1969), Olweus (1970), les lois (1990-2010), pHARe (2019)."
                                ),
                                e("p", { style: { marginTop: "15px" } },
                                    "Chaque g√©n√©ration construit sur la pr√©c√©dente. ", 
                                    e("strong", null, "Ta g√©n√©ration (2025) a h√©rit√© d'outils que les victimes de 1970 n'avaient pas"), 
                                    ". Utilise-les. Diffuse-les. Perfectionne-les."
                                ),
                                e("p", { style: { marginTop: "15px" } },
                                    "Comprendre l'histoire, c'est refuser de la reproduire. Tu sais maintenant ", 
                                    e("strong", { style: { color: "var(--history-amber)" } }, "pourquoi le silence tue"), 
                                    ", ", e("strong", { style: { color: "var(--history-bronze)" } }, "pourquoi nommer est un acte de r√©sistance"), 
                                    ", et ", e("strong", null, "pourquoi ton r√¥le d'ambassadeur est crucial"), "."
                                ),
                                e("p", { style: { marginTop: "15px" } },
                                    e("strong", null, "Porte cet h√©ritage. Transmets-le. Et continues le combat.")
                                )
                            )
                        )
                    )
                );
            }

            switch (gameState) {
                case "intro": return renderIntro();
                case "flashcards": return renderFlashcards();
                case "quiz": return renderQuiz();
                case "scenarios": return renderScenarios();
                case "complete": return renderComplete();
                default: return renderIntro();
            }
        }

        ReactDOM.createRoot(document.getElementById("root")).render(e(App));
    </script>
</body>
</html>
